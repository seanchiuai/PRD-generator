# NextJS
## Error Type
Console Error (FIXED)

## Error Message
The final argument passed to useEffect changed size between renders. The order and size of this array must remain constant.

Previous: [[object Object], [object Object]]
Incoming: [[object Object], [object Object], false]

## Resolution
Fixed by:
1. Wrapping `startResearch` in useCallback with stable dependencies
2. Including `startResearch` in the useEffect dependency array
3. Ensuring dependency array remains constant: [conversation, hasExistingResults, startResearch]

## Location
app/chat/[conversationId]/research/page.tsx:170-181

Next.js version: 15.5.6 (Turbopack)


# Console
react-dom-client.development.js:25630 Download the React DevTools for a better development experience: https://react.dev/link/react-devtools
clerk.browser.js:19 Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview
warnOnce @ clerk.browser.js:19
turbopack-hot-reloader-common.ts:43 [Fast Refresh] rebuilding
report-hmr-latency.ts:26 [Fast Refresh] done in 787ms
turbopack-hot-reloader-common.ts:43 [Fast Refresh] rebuilding
report-hmr-latency.ts:26 [Fast Refresh] done in 656ms
turbopack-hot-reloader-common.ts:43 [Fast Refresh] rebuilding
report-hmr-latency.ts:26 [Fast Refresh] done in 548ms
turbopack-hot-reloader-common.ts:43 [Fast Refresh] rebuilding
report-hmr-latency.ts:26 [Fast Refresh] done in 522ms
turbopack-hot-reloader-common.ts:43 [Fast Refresh] rebuilding
report-hmr-latency.ts:26 [Fast Refresh] done in 121ms
turbopack-hot-reloader-common.ts:43 [Fast Refresh] rebuilding
report-hmr-latency.ts:26 [Fast Refresh] done in 196ms
turbopack-hot-reloader-common.ts:43 [Fast Refresh] rebuilding
report-hmr-latency.ts:26 [Fast Refresh] done in 466ms
turbopack-hot-reloader-common.ts:43 [Fast Refresh] rebuilding
report-hmr-latency.ts:26 [Fast Refresh] done in 200ms
turbopack-hot-reloader-common.ts:43 [Fast Refresh] rebuilding
page.tsx:166 The final argument passed to useEffect changed size between renders. The order and size of this array must remain constant.

Previous: [[object Object], [object Object]]
Incoming: [[object Object], [object Object], false]
error @ intercept-console-error.ts:44
areHookInputsEqual @ react-dom-client.development.js:6742
updateEffectImpl @ react-dom-client.development.js:7775
useEffect @ react-dom-client.development.js:24258
exports.useEffect @ react.development.js:1215
ResearchPage @ page.tsx:166
react_stack_bottom_frame @ react-dom-client.development.js:23583
renderWithHooksAgain @ react-dom-client.development.js:6892
renderWithHooks @ react-dom-client.development.js:6795
updateFunctionComponent @ react-dom-client.development.js:9246
beginWork @ react-dom-client.development.js:10857
runWithFiberInDEV @ react-dom-client.development.js:871
performUnitOfWork @ react-dom-client.development.js:15726
workLoopSync @ react-dom-client.development.js:15546
renderRootSync @ react-dom-client.development.js:15526
performWorkOnRoot @ react-dom-client.development.js:14990
performSyncWorkOnRoot @ react-dom-client.development.js:16830
flushSyncWorkAcrossRoots_impl @ react-dom-client.development.js:16676
flushSyncWork$1 @ react-dom-client.development.js:15296
scheduleRefresh @ react-dom-client.development.js:113
(anonymous) @ react-refresh-runtime.development.js:265
performReactRefresh @ react-refresh-runtime.development.js:254
applyUpdate @ helpers.ts:169
(anonymous) @ helpers.ts:181
<ResearchPage>
exports.jsx @ react-jsx-runtime.development.js:323
ClientPageRoot @ client-page.tsx:60
react_stack_bottom_frame @ react-dom-client.development.js:23583
renderWithHooksAgain @ react-dom-client.development.js:6892
renderWithHooks @ react-dom-client.development.js:6804
updateFunctionComponent @ react-dom-client.development.js:9246
beginWork @ react-dom-client.development.js:10806
runWithFiberInDEV @ react-dom-client.development.js:871
performUnitOfWork @ react-dom-client.development.js:15726
workLoopConcurrentByScheduler @ react-dom-client.development.js:15720
renderRootConcurrent @ react-dom-client.development.js:15695
performWorkOnRoot @ react-dom-client.development.js:14989
performWorkOnRootViaSchedulerTask @ react-dom-client.development.js:16815
performWorkUntilDeadline @ scheduler.development.js:45
"use client"
Promise.all @ VM424 <anonymous>:1
initializeElement @ react-server-dom-turbopack-client.browser.development.js:1332
(anonymous) @ react-server-dom-turbopack-client.browser.development.js:3055
initializeModelChunk @ react-server-dom-turbopack-client.browser.development.js:1235
resolveModelChunk @ react-server-dom-turbopack-client.browser.development.js:1092
processFullStringRow @ react-server-dom-turbopack-client.browser.development.js:2888
processFullBinaryRow @ react-server-dom-turbopack-client.browser.development.js:2755
processBinaryChunk @ react-server-dom-turbopack-client.browser.development.js:2958
progress @ react-server-dom-turbopack-client.browser.development.js:3222
"use server"
ResponseInstance @ react-server-dom-turbopack-client.browser.development.js:2030
createResponseFromOptions @ react-server-dom-turbopack-client.browser.development.js:3083
exports.createFromReadableStream @ react-server-dom-turbopack-client.browser.development.js:3460
createFromNextReadableStream @ fetch-server-response.ts:388
fetchServerResponse @ fetch-server-response.ts:216
await in fetchServerResponse
(anonymous) @ prefetch-cache-utils.ts:323
task @ promise-queue.ts:33
processNext @ promise-queue.ts:66
enqueue @ promise-queue.ts:46
createLazyPrefetchEntry @ prefetch-cache-utils.ts:322
getOrCreatePrefetchCacheEntry @ prefetch-cache-utils.ts:227
navigateReducer @ navigate-reducer.ts:216
clientReducer @ router-reducer.ts:32
action @ app-router-instance.ts:221
runAction @ app-router-instance.ts:108
dispatchAction @ app-router-instance.ts:173
dispatch @ app-router-instance.ts:219
(anonymous) @ use-action-queue.ts:45
startTransition @ react-dom-client.development.js:7967
dispatch @ use-action-queue.ts:44
dispatchAppRouterAction @ use-action-queue.ts:22
dispatchNavigateAction @ app-router-instance.ts:290
(anonymous) @ app-router-instance.ts:392
exports.startTransition @ react.development.js:1148
push @ app-router-instance.ts:391
handleContinue @ page.tsx:103
page.tsx:166 The final argument passed to useEffect changed size between renders. The order and size of this array must remain constant.

Previous: [[object Object], [object Object]]
Incoming: [[object Object], [object Object], false]
error @ intercept-console-error.ts:44
areHookInputsEqual @ react-dom-client.development.js:6742
updateEffectImpl @ react-dom-client.development.js:7775
useEffect @ react-dom-client.development.js:24258
exports.useEffect @ react.development.js:1215
ResearchPage @ page.tsx:166
react_stack_bottom_frame @ react-dom-client.development.js:23583
renderWithHooksAgain @ react-dom-client.development.js:6892
renderWithHooks @ react-dom-client.development.js:6804
updateFunctionComponent @ react-dom-client.development.js:9246
beginWork @ react-dom-client.development.js:10857
runWithFiberInDEV @ react-dom-client.development.js:871
performUnitOfWork @ react-dom-client.development.js:15726
workLoopSync @ react-dom-client.development.js:15546
renderRootSync @ react-dom-client.development.js:15526
performWorkOnRoot @ react-dom-client.development.js:14990
performSyncWorkOnRoot @ react-dom-client.development.js:16830
flushSyncWorkAcrossRoots_impl @ react-dom-client.development.js:16676
flushSyncWork$1 @ react-dom-client.development.js:15296
scheduleRefresh @ react-dom-client.development.js:113
(anonymous) @ react-refresh-runtime.development.js:265
performReactRefresh @ react-refresh-runtime.development.js:254
applyUpdate @ helpers.ts:169
(anonymous) @ helpers.ts:181
<ResearchPage>
exports.jsx @ react-jsx-runtime.development.js:323
ClientPageRoot @ client-page.tsx:60
react_stack_bottom_frame @ react-dom-client.development.js:23583
renderWithHooksAgain @ react-dom-client.development.js:6892
renderWithHooks @ react-dom-client.development.js:6804
updateFunctionComponent @ react-dom-client.development.js:9246
beginWork @ react-dom-client.development.js:10806
runWithFiberInDEV @ react-dom-client.development.js:871
performUnitOfWork @ react-dom-client.development.js:15726
workLoopConcurrentByScheduler @ react-dom-client.development.js:15720
renderRootConcurrent @ react-dom-client.development.js:15695
performWorkOnRoot @ react-dom-client.development.js:14989
performWorkOnRootViaSchedulerTask @ react-dom-client.development.js:16815
performWorkUntilDeadline @ scheduler.development.js:45
"use client"
Promise.all @ VM424 <anonymous>:1
initializeElement @ react-server-dom-turbopack-client.browser.development.js:1332
(anonymous) @ react-server-dom-turbopack-client.browser.development.js:3055
initializeModelChunk @ react-server-dom-turbopack-client.browser.development.js:1235
resolveModelChunk @ react-server-dom-turbopack-client.browser.development.js:1092
processFullStringRow @ react-server-dom-turbopack-client.browser.development.js:2888
processFullBinaryRow @ react-server-dom-turbopack-client.browser.development.js:2755
processBinaryChunk @ react-server-dom-turbopack-client.browser.development.js:2958
progress @ react-server-dom-turbopack-client.browser.development.js:3222
"use server"
ResponseInstance @ react-server-dom-turbopack-client.browser.development.js:2030
createResponseFromOptions @ react-server-dom-turbopack-client.browser.development.js:3083
exports.createFromReadableStream @ react-server-dom-turbopack-client.browser.development.js:3460
createFromNextReadableStream @ fetch-server-response.ts:388
fetchServerResponse @ fetch-server-response.ts:216
await in fetchServerResponse
(anonymous) @ prefetch-cache-utils.ts:323
task @ promise-queue.ts:33
processNext @ promise-queue.ts:66
enqueue @ promise-queue.ts:46
createLazyPrefetchEntry @ prefetch-cache-utils.ts:322
getOrCreatePrefetchCacheEntry @ prefetch-cache-utils.ts:227
navigateReducer @ navigate-reducer.ts:216
clientReducer @ router-reducer.ts:32
action @ app-router-instance.ts:221
runAction @ app-router-instance.ts:108
dispatchAction @ app-router-instance.ts:173
dispatch @ app-router-instance.ts:219
(anonymous) @ use-action-queue.ts:45
startTransition @ react-dom-client.development.js:7967
dispatch @ use-action-queue.ts:44
dispatchAppRouterAction @ use-action-queue.ts:22
dispatchNavigateAction @ app-router-instance.ts:290
(anonymous) @ app-router-instance.ts:392
exports.startTransition @ react.development.js:1148
push @ app-router-instance.ts:391
handleContinue @ page.tsx:103
report-hmr-latency.ts:26 [Fast Refresh] done in 76ms
page.tsx:167 Research useEffect triggered {hasConversation: true, hasExistingResults: {…}, isResearching: false, shouldStart: false}
turbopack-hot-reloader-common.ts:43 [Fast Refresh] rebuilding
report-hmr-latency.ts:26 [Fast Refresh] done in 152ms


# Terminal running `npm run dev`

 GET /chat/jh70gd3cc2g5psyavrcjts50vd7vg83v/questions 200 in 110ms
 GET /chat/jh70gd3cc2g5psyavrcjts50vd7vg83v/research 200 in 53ms
 ✓ Compiled in 223ms
 ✓ Compiled in 88ms
